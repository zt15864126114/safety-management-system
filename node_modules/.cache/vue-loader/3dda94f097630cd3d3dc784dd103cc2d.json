{"remainingRequest":"D:\\safety-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\safety-management-system\\src\\views\\InspectionTask.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\safety-management-system\\src\\views\\InspectionTask.vue","mtime":1735625268949},{"path":"D:\\safety-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735624895241},{"path":"D:\\safety-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1735624924196},{"path":"D:\\safety-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1735624893203},{"path":"D:\\safety-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735624895241},{"path":"D:\\safety-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1735624925511}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdJbnNwZWN0aW9uVGFzaycsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOaQnOe0ouihqOWNlQ0KICAgICAgc2VhcmNoRm9ybTogew0KICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgdHlwZTogJycsDQogICAgICAgIHN0YXR1czogJycNCiAgICAgIH0sDQogICAgICAvLyDku7vliqHliJfooagNCiAgICAgIHRhc2tzTGlzdDogW10sDQogICAgICAvLyDliqDovb3nirbmgIENCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgLy8g5YiG6aG15L+h5oGvDQogICAgICBwYWdpbmF0aW9uOiB7DQogICAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIHRvdGFsOiAwDQogICAgICB9LA0KICAgICAgLy8g5a+56K+d5qGG5pi+56S654q25oCBDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vIOWvueivneahhuagh+mimA0KICAgICAgZGlhbG9nVGl0bGU6ICcnLA0KICAgICAgLy8g5Lu75Yqh6KGo5Y2VDQogICAgICB0YXNrRm9ybTogew0KICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIHR5cGU6ICcnLA0KICAgICAgICBleGVjdXRvcjogJycsDQogICAgICAgIHBsYW5TdGFydFRpbWU6ICcnLA0KICAgICAgICBwbGFuRW5kVGltZTogJycsDQogICAgICAgIGFyZWFzOiBbXSwNCiAgICAgICAgZGVzY3JpcHRpb246ICcnDQogICAgICB9LA0KICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZDQogICAgICBydWxlczogew0KICAgICAgICBuYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeS7u+WKoeWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIHR5cGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5Lu75Yqh57G75Z6LJywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgICAgICBdLA0KICAgICAgICBleGVjdXRvcjogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmiafooYzkuronLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBwbGFuU3RhcnRUaW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeW8gOWni+aXtumXtCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICAgICAgXSwNCiAgICAgICAgcGxhbkVuZFRpbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup57uT5p2f5pe26Ze0JywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgICAgICBdLA0KICAgICAgICBhcmVhczogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlt6Hmo4DljLrln58nLCB0cmlnZ2VyOiAnY2hhbmdlJyB9DQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICAvLyDmqKHmi5/mlbDmja7lupMNCiAgICAgIG1vY2tEYXRhYmFzZTogWw0KICAgICAgICB7DQogICAgICAgICAgaWQ6IDEsDQogICAgICAgICAgbmFtZTogJ+iuvuWkh+aXpeW4uOW3oeajgCcsDQogICAgICAgICAgdHlwZTogJ2RhaWx5JywNCiAgICAgICAgICBleGVjdXRvcjogJ+W8oOS4iScsDQogICAgICAgICAgc3RhdHVzOiAncHJvY2Vzc2luZycsDQogICAgICAgICAgcHJvZ3Jlc3M6IDYwLA0KICAgICAgICAgIHBsYW5TdGFydFRpbWU6ICcyMDI0LTAxLTIwIDA5OjAwOjAwJywNCiAgICAgICAgICBwbGFuRW5kVGltZTogJzIwMjQtMDEtMjAgMTc6MDA6MDAnLA0KICAgICAgICAgIGFyZWFzOiBbJ+W3peWOgjEt6L2m6Ze0QSddLA0KICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5pel5bi46K6+5aSH5beh5qOA5Lu75YqhJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6ICcyJywNCiAgICAgICAgICBkZXZpY2VOYW1lOiAn5Ya35Y205aGULUIyJywNCiAgICAgICAgICBpbnNwZWN0aW9uVGltZTogJzIwMjQtMDEtMTUgMTA6MzA6MDAnLA0KICAgICAgICAgIGluc3BlY3RvcjogJ+adjuW3pScsDQogICAgICAgICAgc3RhdHVzOiAn6ZyA57u05oqkJywNCiAgICAgICAgICByZXN1bHQ6ICfmsLTms7XmnInovbvlvq7lvILlk43vvIzlu7rorq7mo4Dmn6UnLA0KICAgICAgICAgIG5leHRUaW1lOiAnMjAyNC0wMS0yMiAxMDozMDowMCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAnMycsDQogICAgICAgICAgZGV2aWNlTmFtZTogJ+mFjeeUteafnC1DMycsDQogICAgICAgICAgaW5zcGVjdGlvblRpbWU6ICcyMDI0LTAxLTE1IDExOjAwOjAwJywNCiAgICAgICAgICBpbnNwZWN0b3I6ICfnjovlt6UnLA0KICAgICAgICAgIHN0YXR1czogJ+ato+W4uCcsDQogICAgICAgICAgcmVzdWx0OiAn55S15Y6L55S15rWB5q2j5bi477yM5o6l57q/54mi5Zu6JywNCiAgICAgICAgICBuZXh0VGltZTogJzIwMjQtMDEtMjIgMTE6MDA6MDAnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogJzQnLA0KICAgICAgICAgIGRldmljZU5hbWU6ICfplIXngonns7vnu58tRDQnLA0KICAgICAgICAgIGluc3BlY3Rpb25UaW1lOiAnMjAyNC0wMS0xNSAxMzozMDowMCcsDQogICAgICAgICAgaW5zcGVjdG9yOiAn5YiY5belJywNCiAgICAgICAgICBzdGF0dXM6ICflvILluLgnLA0KICAgICAgICAgIHJlc3VsdDogJ+WOi+WKm+WBj+mrmO+8jOmcgOimgeeri+WNs+WkhOeQhicsDQogICAgICAgICAgbmV4dFRpbWU6ICcyMDI0LTAxLTIyIDEzOjMwOjAwJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6ICc1JywNCiAgICAgICAgICBkZXZpY2VOYW1lOiAn6YCa6aOO57O757ufLUU1JywNCiAgICAgICAgICBpbnNwZWN0aW9uVGltZTogJzIwMjQtMDEtMTUgMTQ6MDA6MDAnLA0KICAgICAgICAgIGluc3BlY3RvcjogJ+i1teW3pScsDQogICAgICAgICAgc3RhdHVzOiAn5q2j5bi4JywNCiAgICAgICAgICByZXN1bHQ6ICfpo47mnLrov5DovazmraPluLjvvIznrqHpgZPpgJrnlYUnLA0KICAgICAgICAgIG5leHRUaW1lOiAnMjAyNC0wMS0yMiAxNDowMDowMCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAnNicsDQogICAgICAgICAgZGV2aWNlTmFtZTogJ+a2iOmYsuezu+e7ny1GNicsDQogICAgICAgICAgaW5zcGVjdGlvblRpbWU6ICcyMDI0LTAxLTE1IDE1OjAwOjAwJywNCiAgICAgICAgICBpbnNwZWN0b3I6ICflrZnlt6UnLA0KICAgICAgICAgIHN0YXR1czogJ+ato+W4uCcsDQogICAgICAgICAgcmVzdWx0OiAn5Za35reL57O757uf5bel5L2c5q2j5bi477yM5Y6L5Yqb6L6+5qCHJywNCiAgICAgICAgICBuZXh0VGltZTogJzIwMjQtMDEtMjIgMTU6MDA6MDAnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogJzcnLA0KICAgICAgICAgIGRldmljZU5hbWU6ICfnlLXmoq8tRzcnLA0KICAgICAgICAgIGluc3BlY3Rpb25UaW1lOiAnMjAyNC0wMS0xNSAxNjowMDowMCcsDQogICAgICAgICAgaW5zcGVjdG9yOiAn5ZGo5belJywNCiAgICAgICAgICBzdGF0dXM6ICfpnIDnu7TmiqQnLA0KICAgICAgICAgIHJlc3VsdDogJ+i9v+WOouaciei9u+W+ruaKluWKqO+8jOmcgOimgeiwg+ivlScsDQogICAgICAgICAgbmV4dFRpbWU6ICcyMDI0LTAxLTIyIDE2OjAwOjAwJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6ICc4JywNCiAgICAgICAgICBkZXZpY2VOYW1lOiAn56m66LCD5Li75py6LUg4JywNCiAgICAgICAgICBpbnNwZWN0aW9uVGltZTogJzIwMjQtMDEtMTUgMTY6MzA6MDAnLA0KICAgICAgICAgIGluc3BlY3RvcjogJ+WQtOW3pScsDQogICAgICAgICAgc3RhdHVzOiAn5q2j5bi4JywNCiAgICAgICAgICByZXN1bHQ6ICfliLblhrfmlYjmnpzoia/lpb3vvIzov5DooYznqLPlrponLA0KICAgICAgICAgIG5leHRUaW1lOiAnMjAyNC0wMS0yMiAxNjozMDowMCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAnOScsDQogICAgICAgICAgZGV2aWNlTmFtZTogJ+axoeawtOWkhOeQhi1JOScsDQogICAgICAgICAgaW5zcGVjdGlvblRpbWU6ICcyMDI0LTAxLTE1IDE3OjAwOjAwJywNCiAgICAgICAgICBpbnNwZWN0b3I6ICfpg5Hlt6UnLA0KICAgICAgICAgIHN0YXR1czogJ+ato+W4uCcsDQogICAgICAgICAgcmVzdWx0OiAn5rC06LSo6L6+5qCH77yM6K6+5aSH6L+Q6KGM5q2j5bi4JywNCiAgICAgICAgICBuZXh0VGltZTogJzIwMjQtMDEtMjIgMTc6MDA6MDAnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogJzEwJywNCiAgICAgICAgICBkZXZpY2VOYW1lOiAn5Y+R55S15py657uELUoxMCcsDQogICAgICAgICAgaW5zcGVjdGlvblRpbWU6ICcyMDI0LTAxLTE1IDE3OjMwOjAwJywNCiAgICAgICAgICBpbnNwZWN0b3I6ICfpmYjlt6UnLA0KICAgICAgICAgIHN0YXR1czogJ+ato+W4uCcsDQogICAgICAgICAgcmVzdWx0OiAn5aSH55So55S15rqQ5rWL6K+V5q2j5bi477yM5rK55L2N5YWF6LazJywNCiAgICAgICAgICBuZXh0VGltZTogJzIwMjQtMDEtMjIgMTc6MzA6MDAnDQogICAgICAgIH0NCiAgICAgIF0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDliqDovb3ku7vliqHliJfooagNCiAgICBsb2FkVGFza3MoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgbGV0IGZpbHRlcmVkVGFza3MgPSBbLi4udGhpcy5tb2NrRGF0YWJhc2VdDQoNCiAgICAgICAgLy8g5qC55o2u5pCc57Si5p2h5Lu26L+H5rukDQogICAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0ubmFtZSkgew0KICAgICAgICAgIGZpbHRlcmVkVGFza3MgPSBmaWx0ZXJlZFRhc2tzLmZpbHRlcih0YXNrID0+DQogICAgICAgICAgICAgIHRhc2submFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoRm9ybS5uYW1lLnRvTG93ZXJDYXNlKCkpDQogICAgICAgICAgKQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0udHlwZSkgew0KICAgICAgICAgIGZpbHRlcmVkVGFza3MgPSBmaWx0ZXJlZFRhc2tzLmZpbHRlcih0YXNrID0+DQogICAgICAgICAgICAgIHRhc2sudHlwZSA9PT0gdGhpcy5zZWFyY2hGb3JtLnR5cGUNCiAgICAgICAgICApDQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5zdGF0dXMpIHsNCiAgICAgICAgICBmaWx0ZXJlZFRhc2tzID0gZmlsdGVyZWRUYXNrcy5maWx0ZXIodGFzayA9Pg0KICAgICAgICAgICAgICB0YXNrLnN0YXR1cyA9PT0gdGhpcy5zZWFyY2hGb3JtLnN0YXR1cw0KICAgICAgICAgICkNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIOiuoeeul+WIhumhtQ0KICAgICAgICBjb25zdCBzdGFydCA9ICh0aGlzLnBhZ2luYXRpb24uY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZQ0KICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZQ0KDQogICAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IGZpbHRlcmVkVGFza3MubGVuZ3RoDQogICAgICAgIHRoaXMudGFza3NMaXN0ID0gZmlsdGVyZWRUYXNrcy5zbGljZShzdGFydCwgZW5kKQ0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgfSwgNTAwKQ0KICAgIH0sDQoNCiAgICAvLyDmkJzntKINCiAgICBoYW5kbGVTZWFyY2goKSB7DQogICAgICB0aGlzLnBhZ2luYXRpb24uY3VycmVudFBhZ2UgPSAxDQogICAgICB0aGlzLmxvYWRUYXNrcygpDQogICAgfSwNCg0KICAgIC8vIOmHjee9ruaQnOe0og0KICAgIHJlc2V0U2VhcmNoKCkgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtID0gew0KICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgdHlwZTogJycsDQogICAgICAgIHN0YXR1czogJycNCiAgICAgIH0NCiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKCkNCiAgICB9LA0KDQogICAgLy8g5paw5aKe5Lu75YqhDQogICAgaGFuZGxlQWRkKCkgew0KICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfmlrDlop7ku7vliqEnDQogICAgICB0aGlzLnRhc2tGb3JtID0gew0KICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIHR5cGU6ICcnLA0KICAgICAgICBleGVjdXRvcjogJycsDQogICAgICAgIHBsYW5TdGFydFRpbWU6ICcnLA0KICAgICAgICBwbGFuRW5kVGltZTogJycsDQogICAgICAgIGFyZWFzOiBbXSwNCiAgICAgICAgZGVzY3JpcHRpb246ICcnDQogICAgICB9DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgfSwNCg0KICAgIC8vIOe8lui+keS7u+WKoQ0KICAgIGhhbmRsZUVkaXQocm93KSB7DQogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+e8lui+keS7u+WKoScNCiAgICAgIHRoaXMudGFza0Zvcm0gPSB7DQogICAgICAgIC4uLnJvdywNCiAgICAgICAgcGxhblN0YXJ0VGltZTogcm93LnBsYW5TdGFydFRpbWUgPyBuZXcgRGF0ZShyb3cucGxhblN0YXJ0VGltZSkgOiAnJywNCiAgICAgICAgcGxhbkVuZFRpbWU6IHJvdy5wbGFuRW5kVGltZSA/IG5ldyBEYXRlKHJvdy5wbGFuRW5kVGltZSkgOiAnJw0KICAgICAgfQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQoNCiAgICAvLyDliKDpmaTku7vliqENCiAgICBoYW5kbGVEZWxldGUocm93KSB7DQogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTor6Xku7vliqE/JywgJ+aPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm1vY2tEYXRhYmFzZS5maW5kSW5kZXgodCA9PiB0LmlkID09PSByb3cuaWQpDQogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsNCiAgICAgICAgICB0aGlzLm1vY2tEYXRhYmFzZS5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQ0KICAgICAgICAgIHRoaXMubG9hZFRhc2tzKCkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pDQogICAgfSwNCg0KICAgIC8vIOS/neWtmOS7u+WKoQ0KICAgIGhhbmRsZVNhdmUoKSB7DQogICAgICB0aGlzLiRyZWZzLnRhc2tGb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBpZiAodGhpcy50YXNrRm9ybS5pZCkgew0KICAgICAgICAgICAgLy8g57yW6L6R546w5pyJ5Lu75YqhDQogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubW9ja0RhdGFiYXNlLmZpbmRJbmRleCh0ID0+IHQuaWQgPT09IHRoaXMudGFza0Zvcm0uaWQpDQogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7DQogICAgICAgICAgICAgIHRoaXMubW9ja0RhdGFiYXNlW2luZGV4XSA9IHsNCiAgICAgICAgICAgICAgICAuLi50aGlzLm1vY2tEYXRhYmFzZVtpbmRleF0sDQogICAgICAgICAgICAgICAgLi4udGhpcy50YXNrRm9ybSwNCiAgICAgICAgICAgICAgICBwbGFuU3RhcnRUaW1lOiB0aGlzLmZvcm1hdERhdGVUaW1lKHRoaXMudGFza0Zvcm0ucGxhblN0YXJ0VGltZSksDQogICAgICAgICAgICAgICAgcGxhbkVuZFRpbWU6IHRoaXMuZm9ybWF0RGF0ZVRpbWUodGhpcy50YXNrRm9ybS5wbGFuRW5kVGltZSksDQogICAgICAgICAgICAgICAgdXBkYXRlVGltZTogdGhpcy5mb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIOaWsOWinuS7u+WKoQ0KICAgICAgICAgICAgY29uc3QgbmV3VGFzayA9IHsNCiAgICAgICAgICAgICAgLi4udGhpcy50YXNrRm9ybSwNCiAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCksDQogICAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLA0KICAgICAgICAgICAgICBwcm9ncmVzczogMCwNCiAgICAgICAgICAgICAgcGxhblN0YXJ0VGltZTogdGhpcy5mb3JtYXREYXRlVGltZSh0aGlzLnRhc2tGb3JtLnBsYW5TdGFydFRpbWUpLA0KICAgICAgICAgICAgICBwbGFuRW5kVGltZTogdGhpcy5mb3JtYXREYXRlVGltZSh0aGlzLnRhc2tGb3JtLnBsYW5FbmRUaW1lKSwNCiAgICAgICAgICAgICAgY3JlYXRlVGltZTogdGhpcy5mb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKSwNCiAgICAgICAgICAgICAgdXBkYXRlVGltZTogdGhpcy5mb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5tb2NrRGF0YWJhc2UucHVzaChuZXdUYXNrKQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJykNCiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgIHRoaXMubG9hZFRhc2tzKCkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLy8g5Lu75Yqh5o6n5Yi277yI5byA5aeLL+aaguWBnO+8iQ0KICAgIGhhbmRsZVRhc2tDb250cm9sKHRhc2spIHsNCiAgICAgIGNvbnN0IGlzU3RhcnQgPSB0YXNrLnN0YXR1cyAhPT0gJ3Byb2Nlc3NpbmcnDQogICAgICBjb25zdCBhY3Rpb25UZXh0ID0gaXNTdGFydCA/ICflvIDlp4snIDogJ+aaguWBnCcNCg0KICAgICAgdGhpcy4kY29uZmlybShg56Gu6K6kJHthY3Rpb25UZXh0feivpeS7u+WKoT9gLCAn5o+Q56S6Jywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICBjb25zdCB0YXJnZXRUYXNrID0gdGhpcy5tb2NrRGF0YWJhc2UuZmluZCh0ID0+IHQuaWQgPT09IHRhc2suaWQpDQogICAgICAgIGlmICh0YXJnZXRUYXNrKSB7DQogICAgICAgICAgdGFyZ2V0VGFzay5zdGF0dXMgPSBpc1N0YXJ0ID8gJ3Byb2Nlc3NpbmcnIDogJ3BhdXNlZCcNCiAgICAgICAgICBpZiAoaXNTdGFydCkgew0KICAgICAgICAgICAgdGFyZ2V0VGFzay5wcm9ncmVzcyA9IDANCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGAke2FjdGlvblRleHR95oiQ5YqfYCkNCiAgICAgICAgICB0aGlzLmxvYWRUYXNrcygpDQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KQ0KICAgIH0sDQoNCiAgICAvLyDmoLzlvI/ljJbml6XmnJ/ml7bpl7QNCiAgICBmb3JtYXREYXRlVGltZShkYXRlKSB7DQogICAgICBpZiAoIWRhdGUpIHJldHVybiAnJw0KICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykgcmV0dXJuIGRhdGUNCg0KICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGUpDQogICAgICBjb25zdCB5ZWFyID0gZC5nZXRGdWxsWWVhcigpDQogICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpDQogICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJykNCiAgICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKQ0KICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhkLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKQ0KICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKQ0KDQogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfWANCiAgICB9LA0KDQogICAgLy8g6I635Y+W5Lu75Yqh57G75Z6L5ZCN56ewDQogICAgZ2V0VGFza1R5cGVOYW1lKHR5cGUpIHsNCiAgICAgIGNvbnN0IHR5cGVzID0gew0KICAgICAgICBkYWlseTogJ+aXpeW4uOW3oeajgCcsDQogICAgICAgIHNwZWNpYWw6ICfkuJPpobnlt6Hmo4AnLA0KICAgICAgICB0ZW1wb3Jhcnk6ICfkuLTml7blt6Hmo4AnDQogICAgICB9DQogICAgICByZXR1cm4gdHlwZXNbdHlwZV0gfHwgdHlwZQ0KICAgIH0sDQoNCiAgICAvLyDojrflj5bnirbmgIHnsbvlnosNCiAgICBnZXRTdGF0dXNUeXBlKHN0YXR1cykgew0KICAgICAgY29uc3QgdHlwZXMgPSB7DQogICAgICAgIHBlbmRpbmc6ICdpbmZvJywNCiAgICAgICAgcHJvY2Vzc2luZzogJ3ByaW1hcnknLA0KICAgICAgICBwYXVzZWQ6ICd3YXJuaW5nJywNCiAgICAgICAgY29tcGxldGVkOiAnc3VjY2VzcycsDQogICAgICAgIGZhaWxlZDogJ2RhbmdlcicNCiAgICAgIH0NCiAgICAgIHJldHVybiB0eXBlc1tzdGF0dXNdIHx8ICcnDQogICAgfSwNCg0KICAgIC8vIOiOt+WPlueKtuaAgeWQjeensA0KICAgIGdldFN0YXR1c05hbWUoc3RhdHVzKSB7DQogICAgICBjb25zdCBuYW1lcyA9IHsNCiAgICAgICAgcGVuZGluZzogJ+acquW8gOWniycsDQogICAgICAgIHByb2Nlc3Npbmc6ICfov5vooYzkuK0nLA0KICAgICAgICBwYXVzZWQ6ICflt7LmmoLlgZwnLA0KICAgICAgICBjb21wbGV0ZWQ6ICflt7LlrozmiJAnLA0KICAgICAgICBmYWlsZWQ6ICflt7LlpLHotKUnDQogICAgICB9DQogICAgICByZXR1cm4gbmFtZXNbc3RhdHVzXSB8fCBzdGF0dXMNCiAgICB9LA0KDQogICAgLy8g6I635Y+W6L+b5bqm54q25oCBDQogICAgZ2V0UHJvZ3Jlc3NTdGF0dXModGFzaykgew0KICAgICAgaWYgKHRhc2suc3RhdHVzID09PSAnY29tcGxldGVkJykgcmV0dXJuICdzdWNjZXNzJw0KICAgICAgaWYgKHRhc2suc3RhdHVzID09PSAncGF1c2VkJykgcmV0dXJuICd3YXJuaW5nJw0KICAgICAgaWYgKHRhc2suc3RhdHVzID09PSAnZmFpbGVkJykgcmV0dXJuICdleGNlcHRpb24nDQogICAgICByZXR1cm4gJycNCiAgICB9LA0KDQogICAgLy8g5a+56K+d5qGG5YWz6Zet5aSE55CGDQogICAgaGFuZGxlRGlhbG9nQ2xvc2UoKSB7DQogICAgICB0aGlzLiRyZWZzLnRhc2tGb3JtLnJlc2V0RmllbGRzKCkNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCg0KICAgIC8vIOWIhumhteWkp+Wwj+aUueWPmA0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUgPSB2YWwNCiAgICAgIHRoaXMubG9hZFRhc2tzKCkNCiAgICB9LA0KDQogICAgLy8g5b2T5YmN6aG15pS55Y+YDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnaW5hdGlvbi5jdXJyZW50UGFnZSA9IHZhbA0KICAgICAgdGhpcy5sb2FkVGFza3MoKQ0KICAgIH0NCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZFRhc2tzKCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["InspectionTask.vue"],"names":[],"mappings":";AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"InspectionTask.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"inspection-task\">\r\n    <!-- 搜索表单 -->\r\n    <el-card class=\"search-card\">\r\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"search-form\">\r\n        <el-form-item label=\"任务名称\">\r\n          <el-input v-model=\"searchForm.name\" placeholder=\"请输入任务名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"任务类型\">\r\n          <el-select v-model=\"searchForm.type\" placeholder=\"请选择\">\r\n            <el-option label=\"全部\" value=\"\"></el-option>\r\n            <el-option label=\"日常巡检\" value=\"daily\"></el-option>\r\n            <el-option label=\"专项巡检\" value=\"special\"></el-option>\r\n            <el-option label=\"临时巡检\" value=\"temporary\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"执行状态\">\r\n          <el-select v-model=\"searchForm.status\" placeholder=\"请选择\">\r\n            <el-option label=\"全部\" value=\"\"></el-option>\r\n            <el-option label=\"未开始\" value=\"pending\"></el-option>\r\n            <el-option label=\"进行中\" value=\"processing\"></el-option>\r\n            <el-option label=\"已暂停\" value=\"paused\"></el-option>\r\n            <el-option label=\"已完成\" value=\"completed\"></el-option>\r\n            <el-option label=\"已失败\" value=\"failed\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\r\n          <el-button @click=\"resetSearch\">重置</el-button>\r\n          <el-button type=\"success\" @click=\"handleAdd\">新增任务</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <!-- 任务列表 -->\r\n    <el-card class=\"table-card\">\r\n      <el-table\r\n          :data=\"tasksList\"\r\n          v-loading=\"loading\"\r\n          style=\"width: 100%\">\r\n        <el-table-column prop=\"name\" label=\"任务名称\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"type\" label=\"任务类型\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            {{ getTaskTypeName(scope.row.type) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"executor\" label=\"执行人\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag :type=\"getStatusType(scope.row.status)\">\r\n              {{ getStatusName(scope.row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"planStartTime\" label=\"计划开始时间\" width=\"160\"></el-table-column>\r\n        <el-table-column prop=\"planEndTime\" label=\"计划结束时间\" width=\"160\"></el-table-column>\r\n        <el-table-column prop=\"progress\" label=\"进度\" width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <el-progress\r\n                :percentage=\"scope.row.progress\"\r\n                :status=\"getProgressStatus(scope.row)\">\r\n            </el-progress>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"250\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                size=\"mini\"\r\n                :type=\"scope.row.status === 'processing' ? 'warning' : 'success'\"\r\n                :disabled=\"scope.row.status === 'completed' || scope.row.status === 'failed'\"\r\n                @click=\"handleTaskControl(scope.row)\">\r\n              {{ scope.row.status === 'processing' ? '暂停' : '开始' }}\r\n            </el-button>\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"primary\"\r\n                :disabled=\"scope.row.status === 'completed'\"\r\n                @click=\"handleEdit(scope.row)\">\r\n              编辑\r\n            </el-button>\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.row)\">\r\n              删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"pagination.currentPage\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pagination.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pagination.total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 任务表单对话框 -->\r\n    <el-dialog\r\n        :title=\"dialogTitle\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"50%\"\r\n        :before-close=\"handleDialogClose\">\r\n      <el-form\r\n          :model=\"taskForm\"\r\n          :rules=\"rules\"\r\n          ref=\"taskForm\"\r\n          label-width=\"100px\">\r\n        <el-form-item label=\"任务名称\" prop=\"name\">\r\n          <el-input v-model=\"taskForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"任务类型\" prop=\"type\">\r\n          <el-select v-model=\"taskForm.type\" placeholder=\"请选择任务类型\">\r\n            <el-option label=\"日常巡检\" value=\"daily\"></el-option>\r\n            <el-option label=\"专项巡检\" value=\"special\"></el-option>\r\n            <el-option label=\"临时巡检\" value=\"temporary\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"执行人\" prop=\"executor\">\r\n          <el-input v-model=\"taskForm.executor\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"计划时间\" required>\r\n          <el-col :span=\"11\">\r\n            <el-form-item prop=\"planStartTime\">\r\n              <el-date-picker\r\n                  v-model=\"taskForm.planStartTime\"\r\n                  type=\"datetime\"\r\n                  placeholder=\"开始时间\"\r\n                  style=\"width: 100%;\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col class=\"line\" :span=\"2\">-</el-col>\r\n          <el-col :span=\"11\">\r\n            <el-form-item prop=\"planEndTime\">\r\n              <el-date-picker\r\n                  v-model=\"taskForm.planEndTime\"\r\n                  type=\"datetime\"\r\n                  placeholder=\"结束时间\"\r\n                  style=\"width: 100%;\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"巡检区域\" prop=\"areas\">\r\n          <el-select\r\n              v-model=\"taskForm.areas\"\r\n              multiple\r\n              placeholder=\"请选择巡检区域\">\r\n            <el-option label=\"工厂1-车间A\" value=\"工厂1-车间A\"></el-option>\r\n            <el-option label=\"工厂1-车间B\" value=\"工厂1-车间B\"></el-option>\r\n            <el-option label=\"工厂2-车间A\" value=\"工厂2-车间A\"></el-option>\r\n            <el-option label=\"工厂2-车间B\" value=\"工厂2-车间B\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"description\">\r\n          <el-input\r\n              type=\"textarea\"\r\n              :rows=\"3\"\r\n              v-model=\"taskForm.description\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleDialogClose\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSave\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'InspectionTask',\r\n  data() {\r\n    return {\r\n      // 搜索表单\r\n      searchForm: {\r\n        name: '',\r\n        type: '',\r\n        status: ''\r\n      },\r\n      // 任务列表\r\n      tasksList: [],\r\n      // 加载状态\r\n      loading: false,\r\n      // 分页信息\r\n      pagination: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      },\r\n      // 对话框显示状态\r\n      dialogVisible: false,\r\n      // 对话框标题\r\n      dialogTitle: '',\r\n      // 任务表单\r\n      taskForm: {\r\n        id: null,\r\n        name: '',\r\n        type: '',\r\n        executor: '',\r\n        planStartTime: '',\r\n        planEndTime: '',\r\n        areas: [],\r\n        description: ''\r\n      },\r\n      // 表单验证规则\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入任务名称', trigger: 'blur' }\r\n        ],\r\n        type: [\r\n          { required: true, message: '请选择任务类型', trigger: 'change' }\r\n        ],\r\n        executor: [\r\n          { required: true, message: '请输入执行人', trigger: 'blur' }\r\n        ],\r\n        planStartTime: [\r\n          { required: true, message: '请选择开始时间', trigger: 'change' }\r\n        ],\r\n        planEndTime: [\r\n          { required: true, message: '请选择结束时间', trigger: 'change' }\r\n        ],\r\n        areas: [\r\n          { required: true, message: '请选择巡检区域', trigger: 'change' }\r\n        ]\r\n      },\r\n      // 模拟数据库\r\n      mockDatabase: [\r\n        {\r\n          id: 1,\r\n          name: '设备日常巡检',\r\n          type: 'daily',\r\n          executor: '张三',\r\n          status: 'processing',\r\n          progress: 60,\r\n          planStartTime: '2024-01-20 09:00:00',\r\n          planEndTime: '2024-01-20 17:00:00',\r\n          areas: ['工厂1-车间A'],\r\n          description: '日常设备巡检任务'\r\n        },\r\n        {\r\n          id: '2',\r\n          deviceName: '冷却塔-B2',\r\n          inspectionTime: '2024-01-15 10:30:00',\r\n          inspector: '李工',\r\n          status: '需维护',\r\n          result: '水泵有轻微异响，建议检查',\r\n          nextTime: '2024-01-22 10:30:00'\r\n        },\r\n        {\r\n          id: '3',\r\n          deviceName: '配电柜-C3',\r\n          inspectionTime: '2024-01-15 11:00:00',\r\n          inspector: '王工',\r\n          status: '正常',\r\n          result: '电压电流正常，接线牢固',\r\n          nextTime: '2024-01-22 11:00:00'\r\n        },\r\n        {\r\n          id: '4',\r\n          deviceName: '锅炉系统-D4',\r\n          inspectionTime: '2024-01-15 13:30:00',\r\n          inspector: '刘工',\r\n          status: '异常',\r\n          result: '压力偏高，需要立即处理',\r\n          nextTime: '2024-01-22 13:30:00'\r\n        },\r\n        {\r\n          id: '5',\r\n          deviceName: '通风系统-E5',\r\n          inspectionTime: '2024-01-15 14:00:00',\r\n          inspector: '赵工',\r\n          status: '正常',\r\n          result: '风机运转正常，管道通畅',\r\n          nextTime: '2024-01-22 14:00:00'\r\n        },\r\n        {\r\n          id: '6',\r\n          deviceName: '消防系统-F6',\r\n          inspectionTime: '2024-01-15 15:00:00',\r\n          inspector: '孙工',\r\n          status: '正常',\r\n          result: '喷淋系统工作正常，压力达标',\r\n          nextTime: '2024-01-22 15:00:00'\r\n        },\r\n        {\r\n          id: '7',\r\n          deviceName: '电梯-G7',\r\n          inspectionTime: '2024-01-15 16:00:00',\r\n          inspector: '周工',\r\n          status: '需维护',\r\n          result: '轿厢有轻微抖动，需要调试',\r\n          nextTime: '2024-01-22 16:00:00'\r\n        },\r\n        {\r\n          id: '8',\r\n          deviceName: '空调主机-H8',\r\n          inspectionTime: '2024-01-15 16:30:00',\r\n          inspector: '吴工',\r\n          status: '正常',\r\n          result: '制冷效果良好，运行稳定',\r\n          nextTime: '2024-01-22 16:30:00'\r\n        },\r\n        {\r\n          id: '9',\r\n          deviceName: '污水处理-I9',\r\n          inspectionTime: '2024-01-15 17:00:00',\r\n          inspector: '郑工',\r\n          status: '正常',\r\n          result: '水质达标，设备运行正常',\r\n          nextTime: '2024-01-22 17:00:00'\r\n        },\r\n        {\r\n          id: '10',\r\n          deviceName: '发电机组-J10',\r\n          inspectionTime: '2024-01-15 17:30:00',\r\n          inspector: '陈工',\r\n          status: '正常',\r\n          result: '备用电源测试正常，油位充足',\r\n          nextTime: '2024-01-22 17:30:00'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    // 加载任务列表\r\n    loadTasks() {\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        let filteredTasks = [...this.mockDatabase]\r\n\r\n        // 根据搜索条件过滤\r\n        if (this.searchForm.name) {\r\n          filteredTasks = filteredTasks.filter(task =>\r\n              task.name.toLowerCase().includes(this.searchForm.name.toLowerCase())\r\n          )\r\n        }\r\n        if (this.searchForm.type) {\r\n          filteredTasks = filteredTasks.filter(task =>\r\n              task.type === this.searchForm.type\r\n          )\r\n        }\r\n        if (this.searchForm.status) {\r\n          filteredTasks = filteredTasks.filter(task =>\r\n              task.status === this.searchForm.status\r\n          )\r\n        }\r\n\r\n        // 计算分页\r\n        const start = (this.pagination.currentPage - 1) * this.pagination.pageSize\r\n        const end = start + this.pagination.pageSize\r\n\r\n        this.pagination.total = filteredTasks.length\r\n        this.tasksList = filteredTasks.slice(start, end)\r\n        this.loading = false\r\n      }, 500)\r\n    },\r\n\r\n    // 搜索\r\n    handleSearch() {\r\n      this.pagination.currentPage = 1\r\n      this.loadTasks()\r\n    },\r\n\r\n    // 重置搜索\r\n    resetSearch() {\r\n      this.searchForm = {\r\n        name: '',\r\n        type: '',\r\n        status: ''\r\n      }\r\n      this.handleSearch()\r\n    },\r\n\r\n    // 新增任务\r\n    handleAdd() {\r\n      this.dialogTitle = '新增任务'\r\n      this.taskForm = {\r\n        id: null,\r\n        name: '',\r\n        type: '',\r\n        executor: '',\r\n        planStartTime: '',\r\n        planEndTime: '',\r\n        areas: [],\r\n        description: ''\r\n      }\r\n      this.dialogVisible = true\r\n    },\r\n\r\n    // 编辑任务\r\n    handleEdit(row) {\r\n      this.dialogTitle = '编辑任务'\r\n      this.taskForm = {\r\n        ...row,\r\n        planStartTime: row.planStartTime ? new Date(row.planStartTime) : '',\r\n        planEndTime: row.planEndTime ? new Date(row.planEndTime) : ''\r\n      }\r\n      this.dialogVisible = true\r\n    },\r\n\r\n    // 删除任务\r\n    handleDelete(row) {\r\n      this.$confirm('确认删除该任务?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const index = this.mockDatabase.findIndex(t => t.id === row.id)\r\n        if (index !== -1) {\r\n          this.mockDatabase.splice(index, 1)\r\n          this.$message.success('删除成功')\r\n          this.loadTasks()\r\n        }\r\n      }).catch(() => {})\r\n    },\r\n\r\n    // 保存任务\r\n    handleSave() {\r\n      this.$refs.taskForm.validate((valid) => {\r\n        if (valid) {\r\n          if (this.taskForm.id) {\r\n            // 编辑现有任务\r\n            const index = this.mockDatabase.findIndex(t => t.id === this.taskForm.id)\r\n            if (index !== -1) {\r\n              this.mockDatabase[index] = {\r\n                ...this.mockDatabase[index],\r\n                ...this.taskForm,\r\n                planStartTime: this.formatDateTime(this.taskForm.planStartTime),\r\n                planEndTime: this.formatDateTime(this.taskForm.planEndTime),\r\n                updateTime: this.formatDateTime(new Date())\r\n              }\r\n            }\r\n          } else {\r\n            // 新增任务\r\n            const newTask = {\r\n              ...this.taskForm,\r\n              id: Date.now(),\r\n              status: 'pending',\r\n              progress: 0,\r\n              planStartTime: this.formatDateTime(this.taskForm.planStartTime),\r\n              planEndTime: this.formatDateTime(this.taskForm.planEndTime),\r\n              createTime: this.formatDateTime(new Date()),\r\n              updateTime: this.formatDateTime(new Date())\r\n            }\r\n            this.mockDatabase.push(newTask)\r\n          }\r\n\r\n          this.$message.success('保存成功')\r\n          this.dialogVisible = false\r\n          this.loadTasks()\r\n        }\r\n      })\r\n    },\r\n\r\n    // 任务控制（开始/暂停）\r\n    handleTaskControl(task) {\r\n      const isStart = task.status !== 'processing'\r\n      const actionText = isStart ? '开始' : '暂停'\r\n\r\n      this.$confirm(`确认${actionText}该任务?`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const targetTask = this.mockDatabase.find(t => t.id === task.id)\r\n        if (targetTask) {\r\n          targetTask.status = isStart ? 'processing' : 'paused'\r\n          if (isStart) {\r\n            targetTask.progress = 0\r\n          }\r\n          this.$message.success(`${actionText}成功`)\r\n          this.loadTasks()\r\n        }\r\n      }).catch(() => {})\r\n    },\r\n\r\n    // 格式化日期时间\r\n    formatDateTime(date) {\r\n      if (!date) return ''\r\n      if (typeof date === 'string') return date\r\n\r\n      const d = new Date(date)\r\n      const year = d.getFullYear()\r\n      const month = String(d.getMonth() + 1).padStart(2, '0')\r\n      const day = String(d.getDate()).padStart(2, '0')\r\n      const hours = String(d.getHours()).padStart(2, '0')\r\n      const minutes = String(d.getMinutes()).padStart(2, '0')\r\n      const seconds = String(d.getSeconds()).padStart(2, '0')\r\n\r\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\r\n    },\r\n\r\n    // 获取任务类型名称\r\n    getTaskTypeName(type) {\r\n      const types = {\r\n        daily: '日常巡检',\r\n        special: '专项巡检',\r\n        temporary: '临时巡检'\r\n      }\r\n      return types[type] || type\r\n    },\r\n\r\n    // 获取状态类型\r\n    getStatusType(status) {\r\n      const types = {\r\n        pending: 'info',\r\n        processing: 'primary',\r\n        paused: 'warning',\r\n        completed: 'success',\r\n        failed: 'danger'\r\n      }\r\n      return types[status] || ''\r\n    },\r\n\r\n    // 获取状态名称\r\n    getStatusName(status) {\r\n      const names = {\r\n        pending: '未开始',\r\n        processing: '进行中',\r\n        paused: '已暂停',\r\n        completed: '已完成',\r\n        failed: '已失败'\r\n      }\r\n      return names[status] || status\r\n    },\r\n\r\n    // 获取进度状态\r\n    getProgressStatus(task) {\r\n      if (task.status === 'completed') return 'success'\r\n      if (task.status === 'paused') return 'warning'\r\n      if (task.status === 'failed') return 'exception'\r\n      return ''\r\n    },\r\n\r\n    // 对话框关闭处理\r\n    handleDialogClose() {\r\n      this.$refs.taskForm.resetFields()\r\n      this.dialogVisible = false\r\n    },\r\n\r\n    // 分页大小改变\r\n    handleSizeChange(val) {\r\n      this.pagination.pageSize = val\r\n      this.loadTasks()\r\n    },\r\n\r\n    // 当前页改变\r\n    handleCurrentChange(val) {\r\n      this.pagination.currentPage = val\r\n      this.loadTasks()\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.loadTasks()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.inspection-task {\r\n  padding: 20px;\r\n}\r\n\r\n.search-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.pagination-container {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.line {\r\n  text-align: center;\r\n}\r\n\r\n.dialog-footer {\r\n  text-align: right;\r\n}\r\n</style>"]}]}