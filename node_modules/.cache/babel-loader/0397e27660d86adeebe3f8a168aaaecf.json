{"remainingRequest":"D:\\safety-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\safety-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\safety-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\safety-management-system\\src\\views\\Monitor.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\safety-management-system\\src\\views\\Monitor.vue","mtime":1735549936311},{"path":"D:\\safety-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\safety-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\safety-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\safety-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNb25pdG9yJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5a6e5pe25pWw5o2uCiAgICAgIHJlYWxUaW1lRGF0YTogW3sKICAgICAgICB0aXRsZTogJ+W5s+Wdh+a4qeW6picsCiAgICAgICAgdmFsdWU6ICcyNS42JywKICAgICAgICB1bml0OiAn4oSDJywKICAgICAgICBpY29uOiAnZWwtaWNvbi10ZW1wZXJhdHVyZScsCiAgICAgICAgaXNXYXJuaW5nOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfns7vnu5/ljovlipsnLAogICAgICAgIHZhbHVlOiAnMC44JywKICAgICAgICB1bml0OiAnTVBhJywKICAgICAgICBpY29uOiAnZWwtaWNvbi1nYXVnZScsCiAgICAgICAgaXNXYXJuaW5nOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+eOr+Wig+a5v+W6picsCiAgICAgICAgdmFsdWU6ICc0NScsCiAgICAgICAgdW5pdDogJyUnLAogICAgICAgIGljb246ICdlbC1pY29uLXdhdGVyJywKICAgICAgICBpc1dhcm5pbmc6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+iuvuWkh+WcqOe6v+eOhycsCiAgICAgICAgdmFsdWU6ICc5OC41JywKICAgICAgICB1bml0OiAnJScsCiAgICAgICAgaWNvbjogJ2VsLWljb24tY29ubmVjdGlvbicsCiAgICAgICAgaXNXYXJuaW5nOiBmYWxzZQogICAgICB9XSwKICAgICAgbW9uaXRvclR5cGU6ICd0ZW1wZXJhdHVyZScsCiAgICAgIC8vIOmihOitpuS/oeaBrwogICAgICBhbGVydHM6IFt7CiAgICAgICAgdGltZTogJzIwMjQtMDEtMjAgMTA6MzA6MjUnLAogICAgICAgIGxldmVsOiAnY3JpdGljYWwnLAogICAgICAgIG1lc3NhZ2U6ICcx5Y+35Y+N5bqU6Yec5Y6L5Yqb5byC5bi4JywKICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJwogICAgICB9LCB7CiAgICAgICAgdGltZTogJzIwMjQtMDEtMjAgMTA6Mjg6MTUnLAogICAgICAgIGxldmVsOiAnd2FybmluZycsCiAgICAgICAgbWVzc2FnZTogJzLlj7flgqjnvZDmuKnluqbljYfpq5gnLAogICAgICAgIHN0YXR1czogJ3BlbmRpbmcnCiAgICAgIH0sIHsKICAgICAgICB0aW1lOiAnMjAyNC0wMS0yMCAxMDoyNTozMCcsCiAgICAgICAgbGV2ZWw6ICdpbmZvJywKICAgICAgICBtZXNzYWdlOiAnM+WPt+euoemBk+mcgOimgee7tOaKpCcsCiAgICAgICAgc3RhdHVzOiAncGVuZGluZycKICAgICAgfV0sCiAgICAgIC8vIOiuvuWkh+WIl+ihqAogICAgICBkZXZpY2VMaXN0OiBbewogICAgICAgIGRldmljZUlkOiAnREVWMDAxJywKICAgICAgICBuYW1lOiAnMeWPt+WPjeW6lOmHnCcsCiAgICAgICAgYXJlYTogJ+eUn+S6p+WMukEnLAogICAgICAgIHN0YXR1czogJ+i/kOihjOS4rScsCiAgICAgICAgdGVtcGVyYXR1cmU6IDI1LjYsCiAgICAgICAgcHJlc3N1cmU6IDAuOCwKICAgICAgICBsYXN0VXBkYXRlOiAnMjAyNC0wMS0yMCAxMDozMDoyNScKICAgICAgfSwgewogICAgICAgIGRldmljZUlkOiAnREVWMDAyJywKICAgICAgICBuYW1lOiAnMuWPt+WCqOe9kCcsCiAgICAgICAgYXJlYTogJ+WCqOWtmOWMukInLAogICAgICAgIHN0YXR1czogJ+itpuWRiicsCiAgICAgICAgdGVtcGVyYXR1cmU6IDI4LjksCiAgICAgICAgcHJlc3N1cmU6IDAuOSwKICAgICAgICBsYXN0VXBkYXRlOiAnMjAyNC0wMS0yMCAxMDozMDoyMCcKICAgICAgfV0sCiAgICAgIC8vIOmihOitpuWkhOeQhgogICAgICBhbGVydERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjdXJyZW50QWxlcnQ6IHt9LAogICAgICBhbGVydEZvcm06IHsKICAgICAgICBtZXRob2Q6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJwogICAgICB9LAogICAgICAvLyDlrp7ml7blm77ooajlrp7kvosKICAgICAgY2hhcnQ6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0UmVhbFRpbWVDaGFydCgpOwogICAgdGhpcy5zdGFydFJlYWxUaW1lVXBkYXRlKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMuY2hhcnQpIHsKICAgICAgdGhpcy5jaGFydC5kaXNwb3NlKCk7CiAgICB9CiAgICBjbGVhckludGVydmFsKHRoaXMudXBkYXRlVGltZXIpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyW5a6e5pe25Zu+6KGoCiAgICBpbml0UmVhbFRpbWVDaGFydCgpIHsKICAgICAgdGhpcy5jaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVhbFRpbWVDaGFydCcpKTsKICAgICAgdGhpcy51cGRhdGVDaGFydCgpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy5jaGFydC5yZXNpemUoKSk7CiAgICB9LAogICAgLy8g5pu05paw5Zu+6KGo5pWw5o2uCiAgICB1cGRhdGVDaGFydCgpIHsKICAgICAgY29uc3Qgb3B0aW9uID0gewogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiB0aGlzLmdldE1vbml0b3JUaXRsZSgpCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAndGltZScsCiAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICB0eXBlOiAndmFsdWUnLAogICAgICAgICAgc3BsaXRMaW5lOiB7CiAgICAgICAgICAgIHNob3c6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6IHRoaXMuZ2V0TW9uaXRvclRpdGxlKCksCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBzbW9vdGg6IHRydWUsCiAgICAgICAgICBkYXRhOiB0aGlzLmdlbmVyYXRlTW9ja0RhdGEoKSwKICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICBvcGFjaXR5OiAwLjMKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9OwogICAgICB0aGlzLmNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgfSwKICAgIC8vIOeUn+aIkOaooeaLn+aVsOaNrgogICAgZ2VuZXJhdGVNb2NrRGF0YSgpIHsKICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgY29uc3QgZGF0YSA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKG5vdyAtICgxMDAgLSBpKSAqIDEwMDApOwogICAgICAgIGxldCB2YWx1ZTsKICAgICAgICBzd2l0Y2ggKHRoaXMubW9uaXRvclR5cGUpIHsKICAgICAgICAgIGNhc2UgJ3RlbXBlcmF0dXJlJzoKICAgICAgICAgICAgdmFsdWUgPSAyNSArIE1hdGgucmFuZG9tKCkgKiAyOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3ByZXNzdXJlJzoKICAgICAgICAgICAgdmFsdWUgPSAwLjggKyBNYXRoLnJhbmRvbSgpICogMC4yOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2h1bWlkaXR5JzoKICAgICAgICAgICAgdmFsdWUgPSA0NSArIE1hdGgucmFuZG9tKCkgKiA1OwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgZGF0YS5wdXNoKFt0aW1lLCB2YWx1ZV0pOwogICAgICB9CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIC8vIOW8gOWni+WunuaXtuabtOaWsAogICAgc3RhcnRSZWFsVGltZVVwZGF0ZSgpIHsKICAgICAgdGhpcy51cGRhdGVUaW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5jaGFydC5nZXRPcHRpb24oKS5zZXJpZXNbMF0uZGF0YTsKICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgIGRhdGEuc2hpZnQoKTsKICAgICAgICBsZXQgdmFsdWU7CiAgICAgICAgc3dpdGNoICh0aGlzLm1vbml0b3JUeXBlKSB7CiAgICAgICAgICBjYXNlICd0ZW1wZXJhdHVyZSc6CiAgICAgICAgICAgIHZhbHVlID0gMjUgKyBNYXRoLnJhbmRvbSgpICogMjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdwcmVzc3VyZSc6CiAgICAgICAgICAgIHZhbHVlID0gMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuMjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdodW1pZGl0eSc6CiAgICAgICAgICAgIHZhbHVlID0gNDUgKyBNYXRoLnJhbmRvbSgpICogNTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGRhdGEucHVzaChbbm93LCB2YWx1ZV0pOwogICAgICAgIHRoaXMuY2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgLy8g6I635Y+W55uR5o6n6aG55qCH6aKYCiAgICBnZXRNb25pdG9yVGl0bGUoKSB7CiAgICAgIGNvbnN0IHRpdGxlcyA9IHsKICAgICAgICB0ZW1wZXJhdHVyZTogJ+a4qeW6puebkeaOpycsCiAgICAgICAgcHJlc3N1cmU6ICfljovlipvnm5HmjqcnLAogICAgICAgIGh1bWlkaXR5OiAn5rm/5bqm55uR5o6nJwogICAgICB9OwogICAgICByZXR1cm4gdGl0bGVzW3RoaXMubW9uaXRvclR5cGVdOwogICAgfSwKICAgIC8vIOiOt+WPlumihOitpuWbvuaghwogICAgZ2V0QWxlcnRJY29uKGxldmVsKSB7CiAgICAgIGNvbnN0IGljb25zID0gewogICAgICAgIGNyaXRpY2FsOiAnZWwtaWNvbi1lcnJvcicsCiAgICAgICAgd2FybmluZzogJ2VsLWljb24td2FybmluZycsCiAgICAgICAgaW5mbzogJ2VsLWljb24taW5mbycKICAgICAgfTsKICAgICAgcmV0dXJuIGljb25zW2xldmVsXTsKICAgIH0sCiAgICAvLyDojrflj5borr7lpIfnirbmgIHmoLflvI8KICAgIGdldFN0YXR1c1R5cGUoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHR5cGVzID0gewogICAgICAgICfov5DooYzkuK0nOiAnc3VjY2VzcycsCiAgICAgICAgJ+itpuWRiic6ICd3YXJuaW5nJywKICAgICAgICAn5pWF6ZqcJzogJ2RhbmdlcicsCiAgICAgICAgJ+e7tOaKpOS4rSc6ICdpbmZvJwogICAgICB9OwogICAgICByZXR1cm4gdHlwZXNbc3RhdHVzXTsKICAgIH0sCiAgICAvLyDlpITnkIbpooToraYKICAgIGhhbmRsZUFsZXJ0KGFsZXJ0KSB7CiAgICAgIHRoaXMuY3VycmVudEFsZXJ0ID0gYWxlcnQ7CiAgICAgIHRoaXMuYWxlcnREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmn6XnnIvmiYDmnInpooToraYKICAgIGhhbmRsZUFsbEFsZXJ0cygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hbGVydHMnKTsKICAgIH0sCiAgICAvLyDmj5DkuqTpooTorablpITnkIYKICAgIHN1Ym1pdEFsZXJ0SGFuZGxlKCkgewogICAgICBpZiAoIXRoaXMuYWxlcnRGb3JtLm1ldGhvZCB8fCAhdGhpcy5hbGVydEZvcm0uZGVzY3JpcHRpb24pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+WujOWWhOWkhOeQhuS/oeaBrycpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyDov5nph4zmt7vliqDlpITnkIbpgLvovpEKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfpooTorablpITnkIbmiJDlip8nKTsKICAgICAgdGhpcy5hbGVydERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDliLfmlrDorr7lpIfliJfooagKICAgIHJlZnJlc2hEZXZpY2VzKCkgewogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIt+aWsOaIkOWKnycpOwogICAgfSwKICAgIC8vIOWvvOWHuuiuvuWkh+eKtuaAgQogICAgZXhwb3J0RGV2aWNlU3RhdHVzKCkgewogICAgICAvLyDov5nph4zmt7vliqDlr7zlh7rpgLvovpEKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflr7zlh7rmiJDlip8nKTsKICAgIH0sCiAgICAvLyDmn6XnnIvorr7lpIfor6bmg4UKICAgIGhhbmRsZURldmljZURldGFpbChkZXZpY2UpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9kZXZpY2UvJHtkZXZpY2UuZGV2aWNlSWR9YCk7CiAgICB9LAogICAgLy8g6K6+5aSH57u05oqkCiAgICBoYW5kbGVEZXZpY2VNYWludGVuYW5jZShkZXZpY2UpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGDlvIDlp4vnu7TmiqTorr7lpIfvvJoke2RldmljZS5uYW1lfWApOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1vbml0b3JUeXBlKCkgewogICAgICB0aGlzLnVwZGF0ZUNoYXJ0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["echarts","name","data","realTimeData","title","value","unit","icon","isWarning","monitorType","alerts","time","level","message","status","deviceList","deviceId","area","temperature","pressure","lastUpdate","alertDialogVisible","currentAlert","alertForm","method","description","chart","mounted","initRealTimeChart","startRealTimeUpdate","beforeDestroy","dispose","clearInterval","updateTimer","methods","init","document","getElementById","updateChart","window","addEventListener","resize","option","text","getMonitorTitle","tooltip","trigger","xAxis","type","splitLine","show","yAxis","series","smooth","generateMockData","areaStyle","opacity","setOption","now","Date","i","Math","random","push","setInterval","getOption","shift","titles","humidity","getAlertIcon","icons","critical","warning","info","getStatusType","types","handleAlert","alert","handleAllAlerts","$router","submitAlertHandle","$message","success","refreshDevices","exportDeviceStatus","handleDeviceDetail","device","handleDeviceMaintenance","watch"],"sources":["src/views/Monitor.vue"],"sourcesContent":["<template>\r\n  <div class=\"monitor\">\r\n    <!-- 实时数据概览 -->\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\" v-for=\"(item, index) in realTimeData\" :key=\"index\">\r\n        <el-card shadow=\"hover\" :class=\"{'warning': item.isWarning}\">\r\n          <div class=\"monitor-item\">\r\n            <div class=\"item-icon\">\r\n              <i :class=\"item.icon\"></i>\r\n            </div>\r\n            <div class=\"item-info\">\r\n              <div class=\"item-value\">{{ item.value }}{{ item.unit }}</div>\r\n              <div class=\"item-title\">{{ item.title }}</div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 实时监控图表 -->\r\n    <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\r\n      <el-col :span=\"16\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <span>实时监控数据</span>\r\n            <el-radio-group v-model=\"monitorType\" size=\"small\" style=\"float: right;\">\r\n              <el-radio-button label=\"temperature\">温度</el-radio-button>\r\n              <el-radio-button label=\"pressure\">压力</el-radio-button>\r\n              <el-radio-button label=\"humidity\">湿度</el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n          <div id=\"realTimeChart\" style=\"height: 350px;\"></div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card>\r\n          <div slot=\"header\">\r\n            <span>预警信息</span>\r\n            <el-button\r\n                type=\"text\"\r\n                style=\"float: right; padding: 3px 0\"\r\n                @click=\"handleAllAlerts\">\r\n              查看全部\r\n            </el-button>\r\n          </div>\r\n          <div class=\"alert-list\">\r\n            <div v-for=\"(alert, index) in alerts\" :key=\"index\"\r\n                 class=\"alert-item\"\r\n                 :class=\"alert.level\">\r\n              <div class=\"alert-time\">{{ alert.time }}</div>\r\n              <div class=\"alert-content\">\r\n                <i :class=\"getAlertIcon(alert.level)\"></i>\r\n                {{ alert.message }}\r\n              </div>\r\n              <div class=\"alert-actions\">\r\n                <el-button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    @click=\"handleAlert(alert)\">\r\n                  处理\r\n                </el-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 设备状态监控 -->\r\n    <el-card style=\"margin-top: 20px;\">\r\n      <div slot=\"header\">\r\n        <span>设备状态监控</span>\r\n        <el-button-group style=\"float: right;\">\r\n          <el-button size=\"small\" @click=\"refreshDevices\">刷新</el-button>\r\n          <el-button size=\"small\" type=\"primary\" @click=\"exportDeviceStatus\">导出</el-button>\r\n        </el-button-group>\r\n      </div>\r\n      <el-table :data=\"deviceList\" style=\"width: 100%\">\r\n        <el-table-column prop=\"deviceId\" label=\"设备ID\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"设备名称\" width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"area\" label=\"所在区域\" width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag :type=\"getStatusType(scope.row.status)\">\r\n              {{ scope.row.status }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"temperature\" label=\"温度\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.temperature }}℃\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"pressure\" label=\"压力\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.pressure }}MPa\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"lastUpdate\" label=\"最后更新时间\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                size=\"mini\"\r\n                @click=\"handleDeviceDetail(scope.row)\">详情</el-button>\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n                @click=\"handleDeviceMaintenance(scope.row)\">维护</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 处理预警弹窗 -->\r\n    <el-dialog\r\n        title=\"预警处理\"\r\n        :visible.sync=\"alertDialogVisible\"\r\n        width=\"500px\">\r\n      <el-form :model=\"alertForm\" label-width=\"100px\">\r\n        <el-form-item label=\"预警信息\">\r\n          <div>{{ currentAlert.message }}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"处理方式\">\r\n          <el-select v-model=\"alertForm.method\" placeholder=\"请选择处理方式\">\r\n            <el-option label=\"现场处理\" value=\"onsite\"></el-option>\r\n            <el-option label=\"远程处理\" value=\"remote\"></el-option>\r\n            <el-option label=\"转交专家\" value=\"expert\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"处理说明\">\r\n          <el-input\r\n              type=\"textarea\"\r\n              v-model=\"alertForm.description\"\r\n              rows=\"3\"\r\n              placeholder=\"请输入处理说明\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"alertDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitAlertHandle\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\n\r\nexport default {\r\n  name: 'Monitor',\r\n  data() {\r\n    return {\r\n      // 实时数据\r\n      realTimeData: [\r\n        {\r\n          title: '平均温度',\r\n          value: '25.6',\r\n          unit: '℃',\r\n          icon: 'el-icon-temperature',\r\n          isWarning: false\r\n        },\r\n        {\r\n          title: '系统压力',\r\n          value: '0.8',\r\n          unit: 'MPa',\r\n          icon: 'el-icon-gauge',\r\n          isWarning: true\r\n        },\r\n        {\r\n          title: '环境湿度',\r\n          value: '45',\r\n          unit: '%',\r\n          icon: 'el-icon-water',\r\n          isWarning: false\r\n        },\r\n        {\r\n          title: '设备在线率',\r\n          value: '98.5',\r\n          unit: '%',\r\n          icon: 'el-icon-connection',\r\n          isWarning: false\r\n        }\r\n      ],\r\n      monitorType: 'temperature',\r\n      // 预警信息\r\n      alerts: [\r\n        {\r\n          time: '2024-01-20 10:30:25',\r\n          level: 'critical',\r\n          message: '1号反应釜压力异常',\r\n          status: 'pending'\r\n        },\r\n        {\r\n          time: '2024-01-20 10:28:15',\r\n          level: 'warning',\r\n          message: '2号储罐温度升高',\r\n          status: 'pending'\r\n        },\r\n        {\r\n          time: '2024-01-20 10:25:30',\r\n          level: 'info',\r\n          message: '3号管道需要维护',\r\n          status: 'pending'\r\n        }\r\n      ],\r\n      // 设备列表\r\n      deviceList: [\r\n        {\r\n          deviceId: 'DEV001',\r\n          name: '1号反应釜',\r\n          area: '生产区A',\r\n          status: '运行中',\r\n          temperature: 25.6,\r\n          pressure: 0.8,\r\n          lastUpdate: '2024-01-20 10:30:25'\r\n        },\r\n        {\r\n          deviceId: 'DEV002',\r\n          name: '2号储罐',\r\n          area: '储存区B',\r\n          status: '警告',\r\n          temperature: 28.9,\r\n          pressure: 0.9,\r\n          lastUpdate: '2024-01-20 10:30:20'\r\n        }\r\n      ],\r\n      // 预警处理\r\n      alertDialogVisible: false,\r\n      currentAlert: {},\r\n      alertForm: {\r\n        method: '',\r\n        description: ''\r\n      },\r\n      // 实时图表实例\r\n      chart: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initRealTimeChart()\r\n    this.startRealTimeUpdate()\r\n  },\r\n  beforeDestroy() {\r\n    if (this.chart) {\r\n      this.chart.dispose()\r\n    }\r\n    clearInterval(this.updateTimer)\r\n  },\r\n  methods: {\r\n    // 初始化实时图表\r\n    initRealTimeChart() {\r\n      this.chart = echarts.init(document.getElementById('realTimeChart'))\r\n      this.updateChart()\r\n      window.addEventListener('resize', () => this.chart.resize())\r\n    },\r\n    // 更新图表数据\r\n    updateChart() {\r\n      const option = {\r\n        title: {\r\n          text: this.getMonitorTitle()\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'time',\r\n          splitLine: {\r\n            show: false\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          splitLine: {\r\n            show: true\r\n          }\r\n        },\r\n        series: [{\r\n          name: this.getMonitorTitle(),\r\n          type: 'line',\r\n          smooth: true,\r\n          data: this.generateMockData(),\r\n          areaStyle: {\r\n            opacity: 0.3\r\n          }\r\n        }]\r\n      }\r\n      this.chart.setOption(option)\r\n    },\r\n    // 生成模拟数据\r\n    generateMockData() {\r\n      const now = new Date()\r\n      const data = []\r\n      for (let i = 0; i < 100; i++) {\r\n        const time = new Date(now - (100 - i) * 1000)\r\n        let value\r\n        switch (this.monitorType) {\r\n          case 'temperature':\r\n            value = 25 + Math.random() * 2\r\n            break\r\n          case 'pressure':\r\n            value = 0.8 + Math.random() * 0.2\r\n            break\r\n          case 'humidity':\r\n            value = 45 + Math.random() * 5\r\n            break\r\n        }\r\n        data.push([time, value])\r\n      }\r\n      return data\r\n    },\r\n    // 开始实时更新\r\n    startRealTimeUpdate() {\r\n      this.updateTimer = setInterval(() => {\r\n        const data = this.chart.getOption().series[0].data\r\n        const now = new Date()\r\n        data.shift()\r\n        let value\r\n        switch (this.monitorType) {\r\n          case 'temperature':\r\n            value = 25 + Math.random() * 2\r\n            break\r\n          case 'pressure':\r\n            value = 0.8 + Math.random() * 0.2\r\n            break\r\n          case 'humidity':\r\n            value = 45 + Math.random() * 5\r\n            break\r\n        }\r\n        data.push([now, value])\r\n        this.chart.setOption({\r\n          series: [{\r\n            data: data\r\n          }]\r\n        })\r\n      }, 1000)\r\n    },\r\n    // 获取监控项标题\r\n    getMonitorTitle() {\r\n      const titles = {\r\n        temperature: '温度监控',\r\n        pressure: '压力监控',\r\n        humidity: '湿度监控'\r\n      }\r\n      return titles[this.monitorType]\r\n    },\r\n    // 获取预警图标\r\n    getAlertIcon(level) {\r\n      const icons = {\r\n        critical: 'el-icon-error',\r\n        warning: 'el-icon-warning',\r\n        info: 'el-icon-info'\r\n      }\r\n      return icons[level]\r\n    },\r\n    // 获取设备状态样式\r\n    getStatusType(status) {\r\n      const types = {\r\n        '运行中': 'success',\r\n        '警告': 'warning',\r\n        '故障': 'danger',\r\n        '维护中': 'info'\r\n      }\r\n      return types[status]\r\n    },\r\n    // 处理预警\r\n    handleAlert(alert) {\r\n      this.currentAlert = alert\r\n      this.alertDialogVisible = true\r\n    },\r\n    // 查看所有预警\r\n    handleAllAlerts() {\r\n      this.$router.push('/alerts')\r\n    },\r\n    // 提交预警处理\r\n    submitAlertHandle() {\r\n      if (!this.alertForm.method || !this.alertForm.description) {\r\n        this.$message.warning('请完善处理信息')\r\n        return\r\n      }\r\n      // 这里添加处理逻辑\r\n      this.$message.success('预警处理成功')\r\n      this.alertDialogVisible = false\r\n    },\r\n    // 刷新设备列表\r\n    refreshDevices() {\r\n      this.$message.success('刷新成功')\r\n    },\r\n    // 导出设备状态\r\n    exportDeviceStatus() {\r\n      // 这里添加导出逻辑\r\n      this.$message.success('导出成功')\r\n    },\r\n    // 查看设备详情\r\n    handleDeviceDetail(device) {\r\n      this.$router.push(`/device/${device.deviceId}`)\r\n    },\r\n    // 设备维护\r\n    handleDeviceMaintenance(device) {\r\n      this.$message.success(`开始维护设备：${device.name}`)\r\n    }\r\n  },\r\n  watch: {\r\n    monitorType() {\r\n      this.updateChart()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.monitor {\r\n  padding: 20px;\r\n}\r\n\r\n.monitor-item {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.item-icon {\r\n  font-size: 24px;\r\n  margin-right: 15px;\r\n  color: #409EFF;\r\n}\r\n\r\n.item-info {\r\n  flex: 1;\r\n}\r\n\r\n.item-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.item-title {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  margin-top: 5px;\r\n}\r\n\r\n.warning .item-value {\r\n  color: #E6A23C;\r\n}\r\n\r\n.alert-list {\r\n  max-height: 350px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.alert-item {\r\n  padding: 10px;\r\n  border-bottom: 1px solid #EBEEF5;\r\n  cursor: pointer;\r\n}\r\n\r\n.alert-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.alert-item:hover {\r\n  background-color: #F5F7FA;\r\n}\r\n\r\n.alert-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n}\r\n\r\n.alert-content {\r\n  margin: 5px 0;\r\n}\r\n\r\n.alert-content i {\r\n  margin-right: 5px;\r\n}\r\n\r\n.alert-actions {\r\n  text-align: right;\r\n}\r\n\r\n.critical i {\r\n  color: #F56C6C;\r\n}\r\n\r\n.warning i {\r\n  color: #E6A23C;\r\n}\r\n\r\n.info i {\r\n  color: #909399;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]}]}